/* This file was auto-generated by scripts_decoder.py. 
 * Any changes will be overwritten on regeneration 
 */

/*
 * avrdude - A Downloader/Uploader for AVR device programmers
 * Copyright (C) 2024 MX682X
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 */

#include <ac_cfg.h>
#include <stddef.h>
#include <string.h>
#include "pickit5_lut.h"


const unsigned char EnterProgMode_tpi_0[63] = {  
  0x9b, 0x00, 0x01, 0x1e, 0x20, 0x00, 0x9b, 0x00, 0x0f, 0x1e, 0x27, 0x00, 0x9b, 0x00, 0x02, 0x1e, 
  0x27, 0x00, 0x9b, 0x00, 0x02, 0x9b, 0x01, 0x04, 0x1e, 0x28, 0x00, 0x01, 0x6c, 0x02, 0x1e, 0x27, 
  0x02, 0x1e, 0x29, 0x45, 0xab, 0x89, 0x12, 0xff, 0x88, 0xd8, 0xcd, 0x9b, 0x00, 0x00, 0xa2, 0x1e, 
  0x27, 0x00, 0x6c, 0x02, 0xa5, 0x02, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x32, 0x00, 
};

const unsigned char ExitProgMode_tpi_0[18] = {  
  0x9b, 0x00, 0x00, 0x9b, 0x01, 0x00, 0x1e, 0x28, 0x00, 0x01, 0x9b, 0x00, 0x00, 0x1e, 0x27, 0x00, 
  0x1e, 0x21, 
};

const unsigned char SetSpeed_tpi_0[1] = {  
  0x5a, 
};

const unsigned char GetDeviceID_tpi_0[29] = {  
  0x9c, 0x00, 0x33, 0x00, 0x9b, 0x01, 0x00, 0x1e, 0x26, 0x00, 0x01, 0x9c, 0x00, 0xc0, 0x3f, 0xac, 
  0x03, 0x00, 0x1e, 0x22, 0x00, 0x9f, 0x92, 0x00, 0x01, 0x00, 0x00, 0x00, 0xa4, 
};

const unsigned char EraseChip_tpi_0[43] = {  
  0x9b, 0x00, 0x33, 0x9b, 0x01, 0x10, 0x1e, 0x26, 0x00, 0x01, 0x9c, 0x00, 0x01, 0x40, 0x9b, 0x01, 
  0xff, 0x1e, 0x23, 0x00, 0x01, 0x90, 0x04, 0x32, 0x00, 0x00, 0x00, 0xa2, 0x1e, 0x25, 0x04, 0xa5, 
  0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x32, 0x00, 0xae, 
};

const unsigned char WriteProgmem_tpi_0[140] = {  
  0x91, 0x00, 0x91, 0x01, 0x9b, 0x02, 0x33, 0x9b, 0x03, 0x1d, 0x60, 0x05, 0x01, 0x66, 0x01, 0x01, 
  0x00, 0x00, 0x00, 0x60, 0x06, 0x01, 0x60, 0x01, 0x05, 0x67, 0x01, 0x01, 0x1e, 0x26, 0x02, 0x03, 
  0x9b, 0x07, 0x00, 0xf8, 0x01, 0x07, 0x66, 0x00, 0xfb, 0x2b, 0x00, 0xad, 0x01, 0x99, 0x02, 0x1e, 
  0x23, 0x00, 0x02, 0x92, 0x00, 0x01, 0x00, 0x00, 0x00, 0x99, 0x02, 0x1e, 0x23, 0x00, 0x02, 0x92, 
  0x00, 0x01, 0x00, 0x00, 0x00, 0x90, 0x04, 0x32, 0x00, 0x00, 0x00, 0xa2, 0x1e, 0x25, 0x04, 0xa5, 
  0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x32, 0x00, 0xae, 0x9b, 0x07, 0x01, 0xf8, 0x06, 
  0x07, 0x66, 0x00, 0xfb, 0x8b, 0x00, 0x99, 0x02, 0x1e, 0x23, 0x00, 0x02, 0x92, 0x00, 0x01, 0x00, 
  0x00, 0x00, 0x1e, 0x23, 0x00, 0xff, 0x90, 0x04, 0x32, 0x00, 0x00, 0x00, 0xa2, 0x1e, 0x25, 0x04, 
  0xa5, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x32, 0x00, 0x5a, 
};

const unsigned char ReadProgmem_tpi_0[27] = {  
  0x91, 0x00, 0x91, 0x01, 0x9b, 0x02, 0x33, 0x9b, 0x03, 0x00, 0x1e, 0x26, 0x02, 0x03, 0xad, 0x01, 
  0x1e, 0x22, 0x00, 0x9f, 0x92, 0x00, 0x01, 0x00, 0x00, 0x00, 0xae, 
};

const unsigned char WriteConfigmemFuse_tpi_0[189] = {  
  0x91, 0x00, 0x91, 0x01, 0x9b, 0x0a, 0x33, 0x9b, 0x0b, 0x14, 0x1e, 0x26, 0x0a, 0x0b, 0x9c, 0x0a, 
  0x41, 0x3f, 0x9b, 0x0b, 0xff, 0x1e, 0x23, 0x0a, 0x0b, 0x90, 0x0e, 0x32, 0x00, 0x00, 0x00, 0xa2, 
  0x1e, 0x25, 0x0e, 0xa5, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x32, 0x00, 0xae, 0x94, 
  0x32, 0x00, 0x9b, 0x02, 0x33, 0x9b, 0x03, 0x1d, 0x60, 0x05, 0x01, 0x66, 0x01, 0x01, 0x00, 0x00, 
  0x00, 0x60, 0x06, 0x01, 0x60, 0x01, 0x05, 0x67, 0x01, 0x01, 0x1e, 0x26, 0x02, 0x03, 0x9b, 0x07, 
  0x00, 0xf8, 0x01, 0x07, 0x94, 0x00, 0xfb, 0x59, 0x00, 0xad, 0x01, 0x99, 0x02, 0x1e, 0x23, 0x00, 
  0x02, 0x92, 0x00, 0x01, 0x00, 0x00, 0x00, 0x99, 0x02, 0x1e, 0x23, 0x00, 0x02, 0x92, 0x00, 0x01, 
  0x00, 0x00, 0x00, 0x90, 0x04, 0x32, 0x00, 0x00, 0x00, 0xa2, 0x1e, 0x25, 0x04, 0xa5, 0x80, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x32, 0x00, 0xae, 0x9b, 0x07, 0x01, 0xf8, 0x06, 0x07, 0x94, 
  0x00, 0xfb, 0xbc, 0x00, 0x99, 0x02, 0x1e, 0x23, 0x00, 0x02, 0x92, 0x00, 0x01, 0x00, 0x00, 0x00, 
  0x1e, 0x23, 0x00, 0xff, 0x90, 0x04, 0x32, 0x00, 0x00, 0x00, 0xa2, 0x1e, 0x25, 0x04, 0xa5, 0x80, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x32, 0x00, 0x94, 0x19, 0x00, 0x5a, 
};

const unsigned char WriteConfigmemLock_tpi_0[189] = {  
  0x91, 0x00, 0x91, 0x01, 0x9b, 0x0a, 0x33, 0x9b, 0x0b, 0x14, 0x1e, 0x26, 0x0a, 0x0b, 0x9c, 0x0a, 
  0x41, 0x3f, 0x9b, 0x0b, 0xff, 0x1e, 0x23, 0x0a, 0x0b, 0x90, 0x0e, 0x32, 0x00, 0x00, 0x00, 0xa2, 
  0x1e, 0x25, 0x0e, 0xa5, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x32, 0x00, 0xae, 0x94, 
  0x32, 0x00, 0x9b, 0x02, 0x33, 0x9b, 0x03, 0x1d, 0x60, 0x05, 0x01, 0x66, 0x01, 0x01, 0x00, 0x00, 
  0x00, 0x60, 0x06, 0x01, 0x60, 0x01, 0x05, 0x67, 0x01, 0x01, 0x1e, 0x26, 0x02, 0x03, 0x9b, 0x07, 
  0x00, 0xf8, 0x01, 0x07, 0x94, 0x00, 0xfb, 0x59, 0x00, 0xad, 0x01, 0x99, 0x02, 0x1e, 0x23, 0x00, 
  0x02, 0x92, 0x00, 0x01, 0x00, 0x00, 0x00, 0x99, 0x02, 0x1e, 0x23, 0x00, 0x02, 0x92, 0x00, 0x01, 
  0x00, 0x00, 0x00, 0x90, 0x04, 0x32, 0x00, 0x00, 0x00, 0xa2, 0x1e, 0x25, 0x04, 0xa5, 0x80, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x32, 0x00, 0xae, 0x9b, 0x07, 0x01, 0xf8, 0x06, 0x07, 0x94, 
  0x00, 0xfb, 0xbc, 0x00, 0x99, 0x02, 0x1e, 0x23, 0x00, 0x02, 0x92, 0x00, 0x01, 0x00, 0x00, 0x00, 
  0x1e, 0x23, 0x00, 0xff, 0x90, 0x04, 0x32, 0x00, 0x00, 0x00, 0xa2, 0x1e, 0x25, 0x04, 0xa5, 0x80, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x32, 0x00, 0x94, 0x19, 0x00, 0x5a, 
};

const unsigned char ReadConfigmem_tpi_0[27] = {  
  0x91, 0x00, 0x91, 0x01, 0x9b, 0x02, 0x33, 0x9b, 0x03, 0x00, 0x1e, 0x26, 0x02, 0x03, 0xad, 0x01, 
  0x1e, 0x22, 0x00, 0x9f, 0x92, 0x00, 0x01, 0x00, 0x00, 0x00, 0xae, 
};

const unsigned char ReadConfigmemFuse_tpi_0[27] = {  
  0x91, 0x00, 0x91, 0x01, 0x9b, 0x02, 0x33, 0x9b, 0x03, 0x00, 0x1e, 0x26, 0x02, 0x03, 0xad, 0x01, 
  0x1e, 0x22, 0x00, 0x9f, 0x92, 0x00, 0x01, 0x00, 0x00, 0x00, 0xae, 
};

const unsigned char ReadConfigmemLock_tpi_0[27] = {  
  0x91, 0x00, 0x91, 0x01, 0x9b, 0x02, 0x33, 0x9b, 0x03, 0x00, 0x1e, 0x26, 0x02, 0x03, 0xad, 0x01, 
  0x1e, 0x22, 0x00, 0x9f, 0x92, 0x00, 0x01, 0x00, 0x00, 0x00, 0xae, 
};




static void pickit_tpi_script_init(SCRIPT *scr);
static void pickit_tpi_script_init(SCRIPT *scr) {
  memset(scr, 0x00, sizeof(SCRIPT));  // Make sure everything is NULL

  scr->EnterProgMode = EnterProgMode_tpi_0;
  scr->ExitProgMode = ExitProgMode_tpi_0;
  scr->SetSpeed = SetSpeed_tpi_0;
  scr->GetDeviceID = GetDeviceID_tpi_0;
  scr->EraseChip = EraseChip_tpi_0;
  scr->WriteProgmem = WriteProgmem_tpi_0;
  scr->ReadProgmem = ReadProgmem_tpi_0;
  scr->WriteConfigmemFuse = WriteConfigmemFuse_tpi_0;
  scr->WriteConfigmemLock = WriteConfigmemLock_tpi_0;
  scr->ReadConfigmem = ReadConfigmem_tpi_0;
  scr->ReadConfigmemFuse = ReadConfigmemFuse_tpi_0;
  scr->ReadConfigmemLock = ReadConfigmemLock_tpi_0;

  scr->EnterProgMode_len = sizeof(EnterProgMode_tpi_0);
  scr->ExitProgMode_len = sizeof(ExitProgMode_tpi_0);
  scr->SetSpeed_len = sizeof(SetSpeed_tpi_0);
  scr->GetDeviceID_len = sizeof(GetDeviceID_tpi_0);
  scr->EraseChip_len = sizeof(EraseChip_tpi_0);
  scr->WriteProgmem_len = sizeof(WriteProgmem_tpi_0);
  scr->ReadProgmem_len = sizeof(ReadProgmem_tpi_0);
  scr->WriteConfigmemFuse_len = sizeof(WriteConfigmemFuse_tpi_0);
  scr->WriteConfigmemLock_len = sizeof(WriteConfigmemLock_tpi_0);
  scr->ReadConfigmem_len = sizeof(ReadConfigmem_tpi_0);
  scr->ReadConfigmemFuse_len = sizeof(ReadConfigmemFuse_tpi_0);
  scr->ReadConfigmemLock_len = sizeof(ReadConfigmemLock_tpi_0);
}


const char * const pickit5_tpi_chip_lut[] = {  
         "ATtiny10",      "ATtiny102",      "ATtiny104",       "ATtiny20",        "ATtiny4",       "ATtiny40",        "ATtiny5",        "ATtiny9",
};

int get_pickit_tpi_script(SCRIPT *scr, const char* partdesc) {
  if ((scr == NULL) || (partdesc == NULL)) {
    return -1;
  }
  int namepos = -1;
  for (int i = 0; i < 8; i++) {
    if (strcmp(pickit5_tpi_chip_lut[i], partdesc) == 0) {
      namepos = i;
      break;
    }
  }
  if (namepos == -1) {
    return -2;
  }

  pickit_tpi_script_init(scr);   // load common functions

  switch (namepos) {
    case 0:  /* ATtiny10 */
    case 1:  /* ATtiny102 */
    case 2:  /* ATtiny104 */
    case 3:  /* ATtiny20 */
    case 4:  /* ATtiny4 */
    case 5:  /* ATtiny40 */
    case 6:  /* ATtiny5 */
    case 7:  /* ATtiny9 */
      break;
  }
  return 0;
}