2006-07-17 Joerg Wunsch <j@uriah.heep.sax.de>

	* main.c: Use mem->desc in place of upd->memtype in more places to
	give the full name of the respective memory area, instead of
	the (possibly abbreviated) name the user typed in the -U option.

2006-07-16 Joerg Wunsch <j@uriah.heep.sax.de>

	First stab at an implementation of the STK500 parallel programming
	feature (v2 firmware only), named "stk500pp".  Still not yet
	complete: EEPROM writes not working, documentation missing, only
	ATmega16 parameters available in avrdude.conf.in, some parameters
	not yet implemented.
	* avrdude.conf.in: Add sample parameters for PP mode to ATmega16.
	* avrpart.h: Add the parallel programming control parameters.
	* avrpart.c: (Ditto.)
	* config_gram.y: Add stk500pp configuration grammar.
	* lexer.l: Add stk500pp token recognition.
	* stk500v2.h: Add declaration for stk500pp_initpgm().
	* stk500v2.c: Add stk500pp implementation.

2006-07-11 Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in: Fix the signatures for the
	ATmega164/324 devices.

2006-07-10 Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in: Enter the signatures for the
	ATmega164/324/644 devices.

2006-05-25 Joerg Wunsch <j@uriah.heep.sax.de>

	* stk500v2.c: Implement extended addressing needed
	for the ATmega256x devices.
	* avrdude.1: Document ATmega256x support.
	* doc/avrdude.texi: Document ATmega256x support.
	Also document Solaris port defaults.

2006-05-24 Joerg Wunsch <j@uriah.heep.sax.de>

	* avr.c: Start implementing support for ATmega256x;
	jtag2 and bitbang programmers are working, stk500v2
	still needs to be done.
	* avrdude.conf.in: (Ditto.)
	* avrpart.c: (Ditto.)
	* avrpart.h: (Ditto.)
	* config_gram.y: (Ditto.)
	* lexer.l: (Ditto.)

2006-04-18 Joerg Wunsch <j@uriah.heep.sax.de>

	Contributed by Julius Luukko <Julius.Luukko@lut.fi>:
	* avrdude.conf.in: Add the "ere-isp-avr" programmer.

2006-04-13 Joerg Wunsch <j@uriah.heep.sax.de>

	* par.c: Add logic to negate parallel-port signals in
	avrdude.conf using a tilde.

	Contributed by Bram Daams:
	* avrdude.conf.in: Add the "atisp" programmer entry that
	makes use of negated signals.

2006-03-28 Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in: Add entries for AT90USB{64,128}{6,7}

2006-03-23 Colin O'Flynn <coflynn@newae.com>

	Contributed by Wim Lewis, fix a few typos (patch #4987)
	* avrdude.1: Typo fix

2006-02-27 Colin O'Flynn <coflynn@newae.com>

	Contributed by Wim Lewis, add support for checking device
	signatures in detail (patch #4924 and #4925)
	* avrdude.conf.in: Add signatures
	* avrpart.c: Set default signature
	* avrpart.h: Variable for signature
	* config_gram.y: More signature reading
	* lexer.l: Define that signatures exist
	* main.c: Read signatures and check them against hardware

2006-02-21 Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in: Fix paged flash write for AT90PWMx
	(error in datasheet).

2006-01-23 Joerg Wunsch <j@uriah.heep.sax.de>

	* configure.in: Bump version.

2006-01-17 Colin O'Flynn <coflynn@newae.com>

	* main.c: Fixed a typo in safemode variable names, fixed bug 15113
	* avrdude.conf.in : Added BS2 and pagel to M162, Patch 4766
	* main.c, stk500v2.c: Added patch 4804 from eolson@mit.edu
	Which stops sck from being writtend needlessly

2006-01-13  Joerg Wunsch <j@uriah.heep.sax.de>

	Contributed by David Moore: add support for the
	AVRISP mkII device. (Savannah patch #4789.)
	* serial.h: Declare usb_serdev_frame device descriptor.
	* stk500v2.c: Implementation of the AVRISP mkII handling.
	* usb_libusb.c: Add USB handling for short-frame delimited
	AVRISP mkII USB protocol; add distinction of different
	devices in usbdev_open().
	* jtagmkII.c: Tell usbdev_open() to search for the JTAG ICE mkII.
	* usbdevs.h: (New file.)
	* Makefile.am: Add usbdevs.h, as well as some other forgotten
	files "make distcheck" complained about.
	* avrdude.conf.in: Add more aliases for the AVRISP mkII.
	* avrdude.1: Document how to use the AVRISP mkII.
	* doc/avrdude.texi: (Ditto.)

2006-01-12  Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in: Add EEPROM page instructions for the
	ATmega169 so it will work for STK500v2.

2005-12-16  Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in: Added support for ATtiny24/44/84.

2005-12-05  Colin O'Flynn <coflynn@newae.com>

	* avrdude.conf.in: Added m162 support for stk500v2

2005-12-01  Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in: fix the number of significant bits for
	the efuse memory in ATmega48/88/168; the datasheet is a bit
	off here as well.

2005-11-29  Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.1: update for JTAG ICE mkI support.
	* doc/avrdude.texi: (Ditto.)

2005-11-29  Joerg Wunsch <j@uriah.heep.sax.de>

	Submitted by Galen Seitz:
	patch #4459: Fix for rpm package builds
	* avrdude.spec.in: update the RPM spec file:
	  - Default to enable-doc=yes during configure.
	  - Move info file to docs package.
	  - Make building of docs package conditional.  Basic
	    idea copied from avr-gcc.

2005-11-29  Joerg Wunsch <j@uriah.heep.sax.de>

	Submitted by someone who thinks he's called "Daper":
	Fix bug #15013: Wrong use of PPICLAIM (kernel: ppdev0: claim the
	port first)
	* par.c: don't claim/release here (thus win_ppdev.h not needed
	anymore)
	* ppi.c: claim/release here.
	* freebsd_ppi.h: ppi_claim/ppi_release now take an fd as parameter.
	* solaris_ecpp.h: (Ditto.)
	* linux_ppdev.h: (Ditto.)  (Also add copyright.)
	* win_ppdev.h: Not needed anymore, remove.

2005-11-28  Joerg Wunsch <j@uriah.heep.sax.de>

	* jtagmkI.c: Improve the communication startup with the ICE.

2005-11-28  Joerg Wunsch <j@uriah.heep.sax.de>

	* configure.ac: enable parport access on x86_64 Linux and
	FreeBSD systems.

2005-11-27  Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in: add the "calibration" space to ATmega16.

2005-11-25 Colin O'Flynn <coflynn@newae.com>

	Fixed bug 15051, building for Windows breaks.
	* par.c: ppi_claim and ppi_release definitions now in a Windows header file
	* ppi.c: Only included if you are building for Windows
	* win_ppdev.h: Initial Commit, see par.c

2005-11-24  Joerg Wunsch <j@uriah.heep.sax.de>

	Add basic support for the Atmel JTAG ICE mkI:
	* config_gram.y: add mkI support to config sytax.
	* lexer.l: (Ditto.)
	* avrdude.conf.in: add sample programmer entries.
	* jtagmkI.c: New file
	* jtagmkI.h: New file
	* jtagmkI_private.h: New file
	* Makefile.am: include new files in build.

2005-11-24 Colin O'Flynn <coflynn@newae.com>

	Fix bug 14681 - Serial Communication Fails on -vvvv with Windows
	* ser_win32.c: Patched with Brian Dean's patch

2005-11-05 Colin O'Flynn <coflynn@newae.com>

	Patch #4532 by Manfred Bartz
	* avrdude.conf.in: added support for ATMega168 (also added support
	for the stk500v2 protocol which was not in the patch).

2005-11-03  Joerg Wunsch <j@uriah.heep.sax.de>

	Add ecpp(7D) (parallel port) for Solaris.
	* configure.ac: add Solaris' default parallel port.
	* linux_ppdev.h: change parallel port access to the new style.
	* freebsd_ppi.h: New file, abstract FreeBSD's ppi(4).
	* solaris_ecpp.h: New file, abstract Solaris' ecpp(7D).
	* par.c: change header inclusion sequence.
	* pgm.h: remove obsolete ppi_claim() and ppi_release() dummies.
	* ppi.c: change header inclusion sequence, use new parport
	abstraction, drop obsolete dummy implementation.

2005-11-02  Joerg Wunsch <j@uriah.heep.sax.de>

	* config.h: change YYSTYPE to be a single word, to work around
	a bug in Solaris' yacc.
	* lexer.l: remove incompatibilities with Solaris' default lex,
	bump resource limits for lex.

2005-11-01  Joerg Wunsch <j@uriah.heep.sax.de>

	Make avrdude Solaris-compatible.
	* Makefile.am: distclean avrdude.conf.
	* avrdude.conf.in: make the parallel-port programmers optional.
	* bitbang.c: move the bitbang features out into PROGRAMMER.
	* configure.ac: introduce --enable-parport, add Solaris.
	* lexer.l: replace str by strng to work around problems in some
	versions of flex.
	* main.c: move getexitspecs into the respective programmer's
	domain; replace rindex by the C-standard strrchr.
	* par.c: make parallel port optional.
	* par.h: everything but par_initpgm() is private now.
	* pgm.h: add setping/getping/highpulsepin/getexitspecs.
	* serbb_posix.c: generalize bitbang interface; replace
	cfmakeraw() by explicit code.
	* serbb_win32.c: generalize bitbang interface.

2005-10-20  Joerg Wunsch <j@uriah.heep.sax.de>

	* butterfly.c: fix yet another sign extension bug.

2005-10-14  Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in (ATmega8515): fix size of calibration
	memory.

2005-10-09  Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in: add support for ATmega640/1280/1281.
	* avrdude.1: document the above.
	* doc/avrdude.texi: (Ditto.)

2005-09-27  Joerg Wunsch <j@uriah.heep.sax.de>

	* doc/avrdude.texi: Polish up the docs a bit.  Use smallexample
	instead of example for wide tty output.  Document a trick to
	find out about the serial numbers of all JTAG ICEs attached
	to USB.

2005-09-26  Joerg Wunsch <j@uriah.heep.sax.de>

	* jtagmkII.c (jtagmkII_paged_write): default the page size early so the
	buffer will be allocated correctly.
	* usb_libusb.c: fix libusb handling; now it works with libusb-win32 as
	well.

2005-09-21  Joerg Wunsch <j@uriah.heep.sax.de>

	* main.c(do_op): use mem->desc in place of upd->memtype to
	give the full name of the respective memory area, instead of
	the (possibly abbreviated) name the user typed in the -U option.

2005-09-21  Joerg Wunsch <j@uriah.heep.sax.de>

	* main.c: Add the forgotten -B option to the option string in
	getopt(); sort the -s option into order.

2005/09/21  Brian S. Dean  <bsd@bsdhome.com>

	* avr.c:
	* main.c:
	* safemode.c:
	* safemode.h:
	* term.h:
	  This is Colin O'Flynn's mega patch for updating safemode support:
	  
	  * add support for parts with just 'fuse' memory
	  
	  * if any fuse memories are altered, reflect those changes in the
	  post-programming safemode check so that safemode no longer
	  complains about fuses which were intentionally altered; this
	  eliminates the need to completely disable safemode using -u in
	  order to program fuses.
	  
	  * provide -s option which will not ask to restore fuses, it will
	  just do it

2005-09-19  Joerg Wunsch <j@uriah.heep.sax.de>

	* butterfly.c (butterfly_initialize): make the device code unsigned so
	it wouldn't sign-extend when >= 0x80.

2005-09-18  Joerg Wunsch <j@uriah.heep.sax.de>

	Add the serial bit-bang driver, contributed by Michael Holzt.
	* bitbang.h: New file.
	* bitbang.c: New file.
	* serbb.h: New file.
	* serbb_posix.c: New file.
	* serbb_win32.c: New file.
	* Makefile.am: Include new files.
	* config_gram.y: Add serbb to configuration language.
	* lexer.l: (Ditto.)
	* par.c: Centralize bit-bang code in bitbang.c.
	* par.h: Declare newly published functions.
	* pgm.h (struct programmer_t): Add a flag field for private use
	  by the programmer.
	* pindefs.h: Add definitions for negated serbb pins.
	* avrdude.conf.in: Add serbb programmers ponyser, dasa, and dasa3.
	* avrdude.1: Document serbb code.
	* doc/avrdude.texi: (Ditto.)

2005/09/18  Brian S. Dean  <bsd@bsdhome.com>

	* avrdude.conf.in: Patch #4078: add VCC pin definition for DAPA
	  programmer.

2005/09/18  Brian S. Dean  <bsd@bsdhome.com>

	* avr910.c: This is patch #3277 which appears to fix a number of
	  issues with the avr910 programmer.

	  Fixes the following problems with paged writes in avr910.c:
	    - failure to re-set address after page writes;
	    - no polling or delay after page writes;
	    - no page writes when not using auto-increment;
	    - an extraneous page write when data ends on page boundary.

2005-09-17  Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in: Fix the poll values for the ATmega103's EEPROM
	so they eventually match the XML file.
	This fixes bug #7492: EEPROM writing fail on atmega103 with
	atavrisp

2005-09-17  Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in: The ATmega128 has four oscillator calibration
	bytes, not only a single one.
	This closes bug #11496: Memory bank calibration on atmega128
	should have 4 bytes

2005/09/17  Brian S. Dean  <bsd@bsdhome.com>

	* avrdude.1:
	  Document -q -q.  Expand a little on the description of the 'part'
	  command.

2005/09/16  Brian S. Dean  <bsd@bsdhome.com>

	* fileio.c:
	* main.c:
	  Implement -q -q to be very very quiet.

2005/09/16  Brian S. Dean  <bsd@bsdhome.com>

	* avrdude.conf.in:
	  Add DAPA programmer.

2005/09/16  Brian S. Dean  <bsd@bsdhome.com>

	* avrdude.conf.in:
	* stk500v2.c:
	  This fixes EEPROM access using the STK500V2 programmer, partially
	  undoing part of a previous general fixup commit.  Choose the correct
	  read/write operations with the stk500v2 program function - the correct
	  one depends on the memory type.  EEPROM is byte addressable so uses
	  read/write.  FLASH is word addressable and so uses read_lo/write_lo.

2005-09-16  Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.1: document the memtypes for -U
	* doc/avrdude.texi: (Ditto.)
	Closes bug #13501: <memtype> should be listed in the man page

2005-09-16  Joerg Wunsch <j@uriah.heep.sax.de>

	* doc/Makefile.am: add logic to detect the misf^H^H^H^H
	gratitous API change in recent versions of texi2html where
	the output directory has changed names.
	Fix for:
	bug #13026: The build fails with texi2html 1.76
	bug #12715: make issues during install
	patch #3091: commandline fix for latest version of texi2html

2005-09-16  Joerg Wunsch <j@uriah.heep.sax.de>

	* usb_libusb.c (usbdev_drain): actually implement draining to aid
	synchronizing against a JTAG ICE in weird state.

2005-09-16  Joerg Wunsch <j@uriah.heep.sax.de>

	* butterfly.c: improve the butterfly initialization so it is more likely
	to synchonize; [bug #9787: avrdude 4.4.0 correct butterfly interface]

2005-09-14  Joerg Wunsch <j@uriah.heep.sax.de>

	* jtagmkII.c (jtagmkII_paged_load): return the number of bytes read.
	This makes EEPROM block reads work again.

2005-09-14  Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in: add a jtag2slow programmer alias, and make
	"jtag2" default to 115200 Bd.
	* doc/avrdude.texi: document the above changes.

2005/09/14  Brian S. Dean  <bsd@bsdhome.com>

	* avrdude.conf.in:
	  Change bit 0 of the ATmega169 efuse 'write' opcode from 'x' (ignore)
	  to 'i' (input).  Even though this bit should be ignored, it should not
	  be changed.  The 'x' setting sets the bit to zero which programs it
	  and could cause undefined behaviour.  Setting to 'i' enables it to be
	  rewritten to its old value.
	  
	  A better solution might be to read the fuse byte, apply the new value
	  while leaving the 'x' bit alone, then writing the value back.  The
	  current fix is a workaround which allows the developer to change the
	  bit as desired.

2005-08-30  Joerg Wunsch <j@uriah.heep.sax.de>

	* usb_libusb.c: Consistently use unsigned char for buffers.

2005-08-29  Brian S. Dean  <bsd@bsdhome.com>

	* avr910.c: Eliminate compiler warnings.  GCC 4.x elicits many
	signedness warnings when passing unsigned char * when char * is in
	the prototype and vice versa.  Clean these up along with a few
	others.
	* butterfly.c: (Ditto.)
	* jtagmkII.c: (Ditto.)
	* safemode.c: (Ditto.)
	* safemode.h: (Ditto.)
	* ser_posix.c: (Ditto.)
	* serial.h: (Ditto.)
	* stk500.c: (Ditto.)
	* stk500v2.c: (Ditto.)

2005-08-28  Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in: Add support for the ATtiny25/45/85.  Note that
	only the ATtiny45 appears to have a complete XML description right
	now.
	* avrdude.1: Mention all the recently added device support: AT90PWM2/3,
	ATmega164/324/644, ATmega329x/649x, ATtiny25/45/85.
	* doc/avrdude.texi: (Ditto.)

2005/08/28  Brian S. Dean  <bsd@bsdhome.com>

	* avrdude.conf.in:
	* stk500v2.c:
	  This is patch # 4338, obsoletes patch #4327, provides fixes for bugs
	  #13693, #13871, and #14212.
	  
	  This provides bug fixes to the STK500V2 programmer type.

	    - incorrect token used from avrdude.conf.in
	    - wrong command sent to programmer, hence no write to eeprom.
	    - programmer was said to start writing at 0x0000 and continue
	      page by page and was not repositionned when a gap was found
	      in the hex file, or when the hex file start address was not
	      0x0000. Hence the verify procedure was correct, not the
	      write procedure.
	    - speed up of flash write to skip empty pages (full of 0xFF)
	      by re-enabling a dedicated function for that task.
	    - stk500v2_paged_load() was not returning the number of byte
	      read, so empty hex files were generated when reading memory.

2005-08-17  Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in: fix the EEPROM size for ATmega329x/649x.

2005-08-16  Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in: Add support for the AT90PWM2/3.

2005-07-27  Joerg Wunsch <j@uriah.heep.sax.de>

	(This work has been done as part of a contract with Atmel, Dresden.)
	* butterfly.c: Implement full support for AVR109 boot loaders.
	* avrdude.conf.in: add avr109 and avr911 as alias for butterfly.
	* avrdude.1: Document the AVR109 addition.
	* doc/avrdude.texi: (Ditto.)

2005-07-26  Brian S. Dean  <bsd@bsdhome.com>

	* main.c:
	  Don't call exit() directly here - set the exit value and jump to the
	  main_exit: label to ensure the programmer is released correctly.

	* stk500v2.c:
	  The stk500v2_getsync() function was improperly checking for success,
	  thus it was falsely reporting that it failed when it was actually
	  working correctly.  Fixed.

2005-07-25  Joerg Wunsch <j@uriah.heep.sax.de>

	* usb_libusb.c: Catch benign errors when reading the serial #.

2005-06-19  Joerg Wunsch <j@uriah.heep.sax.de>

	* Makefile.am: Implement libusb-base USB transport for the
	JTAG ICE mkII.
	* configure.ac: ditto.
	* jtagmkII.c: ditto.
	* ser_posix.c: ditto.
	* ser_win32.c: ditto.
	* serial.h: ditto.
	* usb_libusb.c: ditto (New file).
	* avrdude.1: document the USB transport.
	* doc/avrdude.texi: ditto.

2005-06-15  Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in: The AT90CAN128 has AllowFullPageBitstream = no.

2005-06-14  Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in: Add support for the ATmega164/324/644.
	* jtagmkII.c: If enter_progmode fails with RSP_ILLEGAL_JTAG_ID, give
	the user a hint that the JTAGEN fuse might be unset.

2005-06-11  Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in: Add support for the ATmega329x/649x.

2005-05-27  Joerg Wunsch <j@uriah.heep.sax.de>

	* jtagmkII.c: fix a signedness bug when shifting bits; when
	discarding a packet for being overly long, restart the state
	machine instead of attempting to drop a preposterous amount
	of data.

2005-05-19  Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.1:
	* doc/avrdude.texi: Document that the JTAG ICE mkII code currently
	cannot write to flash one byte at a time.  Also mention the bug
	tracker interface on savannah.

2005/05/14  Brian S. Dean  <bsd@bsdhome.com>

	* configure.ac:
	* main.c:
	  Update version for beta release and copyright message.
	  Change the default port to 'serial' for the newly added serial
	  programmers stk500v2 and jtagmkii.

2005-05-10  Joerg Wunsch <j@uriah.heep.sax.de>

	* Makefile.am:
	* avr910.c:
	* avrdude.1:
	* avrdude.conf.in:
	* avrpart.c:
	* avrpart.h:
	* butterfly.c:
	* config_gram.y:
	* crc16.c:
	* crc16.h:
	* jtagmkII.c:
	* jtagmkII.h:
	* jtagmkII_private.h:
	* lexer.l:
	* main.c:
	* pgm.h:
	* serial.h:
	* ser_posix.c:
	* ser_win32.c:
	* stk500.c:
	* stk500v2.c:
	* stk500v2.h:
	* stk500v2_private.h:
	* doc/avrdude.texi:

	Mega-commit to bring in both, the STK500v2 support from Erik
	Walthinsen, as well as JTAG ICE mkII support (by me).

	Note that for the JTAG ICE, I did change a few things in the
	internal API.  Notably I made the serial receive timeout
	configurable by the backends via an exported variable (done in
	both the Posix and the Win32 implementation), and I made the
	serial_recv() function return a -1 instead of bailing out with
	exit(1) upon encountering a receive timeout (currently only done
	in the Posix implementation).  Both measures together allow me to
	receive a datastreem from the ICE at 115 kbps on a somewhat lossy
	PCI multi-UART card that occasionally drops a character.  The JTAG
	ICE mkII protocol has enough of safety layers to allow recovering
	from these events, but the previous code wasn't prepared for any
	kind of recovery.  The Win32 change for this still has to be done.

2005/02/11  Brian S. Dean  <bsd@bsdhome.com>

	* main.c:
	  Exit non-zero if safe-mode reverts fuse bits that were requested on
	  the command-line.

	  Variable declarations must only appear at the beginning of a block.

2005/02/10  Brian S. Dean  <bsd@bsdhome.com>

	* avrdude.1:
	  Document -u option to disable safe mode.

2005/02/10  Brian S. Dean  <bsd@bsdhome.com>

	* configure.ac:
	  doc/Makefile is now dependent on whether or not doc is enabled.

2005/02/10  Brian S. Dean  <bsd@bsdhome.com>

	* Makefile.am:
	* configure.ac:
	  Disable the doc build by default; the tools needed to build
	  doc are either not available on all systems or are at best
	  inconvenient to build and install.  The doc can still be built, one
	  just needs to specify --enable-doc at configure time.
	

2005-01-24  Colin O'Flynn  <coflynn@newae.com>

	* main.c: Add "safe mode". Fuse settings will be restored at the end
	of a programming session unless the -u switch is specified.
	* safemode.c: New file. Safe mode support.
	* safemode.h: New file. Safe mode support.
	* Makefile.am: Add new files.
	* doc/avrdude.texi: Document new Safe Mode feature and switch.

2004/12/22  Brian S. Dean  <bsd@bsdhome.com>

	* avrdude.conf.in:
	  Add support for "Xilinx JTAG cable". Contributed by:
	  Tymm <tymm@booyaka.com>

	  Add support for the AT90CAN128.  Not sure if all the instruction
	  encoding is correct, specifically the address bits don't exactly match
	  those of the preliminary datasheet that I have, but I don't see how
	  they could be right.  Tested with STK500 and it works there.
	  Instruction encodings have not been tested due to lack of a parallel
	  port on my Mac development box.

2004-07-19  Theodore A. Roth  <troth@openavr.org>

	* avrdude.1: Remove reference to ppi programmer schematic.
	* configure.ac (AC_INIT): Set version to "4.4.0cvs".

2004-07-18  Theodore A. Roth  <troth@openavr.org>

	* AVRDUDE 4.4.0 has been released (cvs release tag is "release_4_4_0").

2004-07-18  Theodore A. Roth  <troth@openavr.org>

	* Makefile.am (EXTRA_DIST): Remove avrdude.pdf since it is no longer
	supplied.
	* NEWS: Fix typo.
	* bootstrap: Delete the autom4te.cache dir before running the
	autotools.
	* configure.ac (AC_INIT): Set version to 4.4.0.

2004-07-17  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* avrdude.1: Fixed obvious copy and paste error
	(Patch #3199 contributed by Galen Seitz)

2004-07-15  Theodore A. Roth  <troth@openavr.org>

	* main.c (main): Don't indent CPP directives.
	When showing update progress in a no tty situation, use unbuffered IO
	for all systems, not just win32 native.
	Update copyright year when printing version.
	Remove warning about native win32 being experimental.
	Split a line string.
	* ppiwin.c: Update copyright year.
	Add cvs Id keyword.
	(usleep): Cleanup debug CPP directives to improve readability.
	* ser_win32.c: Include <stdio.h> to fix failing build.

2004-07-08  Theodore A. Roth  <troth@openavr.org>

	* AUTHORS: Add names of recent major contributors.
	* ser_win32.c: Assign copyright to Martin J. Thomas since he did all
	real work on this file.

2004-07-07  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* NEWS, doc/TODO: Updated NEWS and TODO

2004-07-07  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* stk500.c, term.c, doc/avrdude.texi, avrdude.1:
	added "sck"-command to the terminal mode.
	This command allows slowing down of the SCK of
	STK500-programmers.

2004-07-05  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* *.c, *.h: Removed unnecessary includes of
	config.h

2004-07-04  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* avr.h: Removed some unused prototypes

2004-07-04  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* stk500.c: Fixed fosc behaviour for values exceeding
	maximum frequency (contributed by Galen Seitz)

2004-07-04  Jan-Hinnerk Reichert  <hinni@despammed.com>
	* avrdude.conf.in: Added support for
	ATtiny2313 (contributed by Bob Paddock)

2004-06-25  Joerg Wunsch <j@uriah.heep.sax.de>

	* avrdude.conf.in: Fix efuse bits for ATmega169.

2004-06-24  Alex Shepherd <maillists@ajsystems.co.nz>

	Merged in Win32 Native changes contributed by Martin Thomas
	Changed all instances of __CYGWIN__ conditional compilation to
	WIN32NATIVE

	* ser_win32.c: fleshed out all the previous stubs
	* ser_posix.c: added WIN32NATIVE conditional compilation to skip
	all function to allow ser_win32.c functions to operate
	* ppi.h: removed commented code
	* pgh.h: added usleep macros
	* main.c: stdout,stderr tweaks for Win32
	* configure.ac: added CFLAGS and LDFLAGS for Win32Native
	* config_gram.y: added strtok_r macro
	* buterfly.c: added various stub functions and EXIT processing
	* avr910.c: added return 0 to avr910_open() and included time headers
	* term.c: added warning about libreadline not supported in WIN32NATIVE

2004-06-17  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* avrdude.conf.in: Added support for
	  - tiny13 (contributed by Pawel Moll)
	  - mega48 and mega88 (contributed by Galen Seitz)
	However, the STK500-code for mega8 remains unchanged.

2004-05-19  Brian S. Dean  <bsd@bsdhome.com>

	* main.c:
	* stk500.c: Allow the baud rate to be specified on the command
	line with a new -b switch.  The specified baud rate will
	override the default serial port baud rate for a particular
	programmer.

2004-05-19  Brian S. Dean  <bsd@bsdhome.com>

	* ppi.c: Stub-out the ppi_* functions in ppi.c with empty
	wrappers that simply return an error code in order to build
	successfully on MacOS X.  This allows avrdude to work on MacOS
	X and was tested using a USB<->RS232 cable adapter,
	specifically Keyspan model USA-19HS.

2004-04-23  Joerg Wunsch <j@uriah.heep.sax.de>

	* lists.h, lists.c: Drop LISTSZ and the check for
	it in lcreat().

2004-04-17  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* avr910.c: Hopefully fixed that weird "first byte not
	programmed"-error in a good way (previous fix was not
	working with all firmwares)

2004-02-10  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* avrdude.1, doc/avrdude.texi, doc/TODO:
	Removed the deprecated options from documentation

2004-02-10  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* main.c: Removed deprecated options.

2004-01-28  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* pgm.c, main.c, avr910.c, butterfly.c, stk500.c:
	Changed default for powerup, powerdown and LED-commands
	to do nothing and return OK. Then removed these commands
	from avr910, butterfly and stk500.
	* pgm.c: Fixed wrong type for default_open introduced by
	the cleanup yesterday.

2004-01-29  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* par.c: changed order of port-read/writes in par_txrx().
	This change should increase immunity to delays in the
	programmer-hardware.
	Also did some unrelated cleanup in par_txrx().

2004-01-28  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* pgm.[ch], main.c, par.c, avr910.c, butterfly.c, stk500.c:
	Move save/restore-functionality into open/close.
	* par.c: open/close now saves/restores PPICTRL, too.
	* TODO: exitspecs don't work if RESET is in PPICTRL.

2004-01-26  Theodore A. Roth  <troth@openavr.org>

	* configure.ac (AC_INIT): Post release version update.

2004-01-26  Theodore A. Roth  <troth@openavr.org>

	* AVRDUDE 4.3.0 has been released (cvs release tag is "release_4_3_0").

2004-01-26  Theodore A. Roth  <troth@openavr.org>

	* configure.ac: Update copyright year.
	(AC_INIT): Set version to 4.3.0.

2004-01-25  Theodore A. Roth  <troth@openavr.org>

	* ChangeLog: Minor formatting cleanups.
	Move to all 2003 entries to ChangeLog-2003.
	* ChangeLog-2003: New file.
	* Makefile.am: Update copyright year.
	(EXTRA_DIST): Add ChangeLog-2003.

2004-01-17  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* doc/avrdude.texi: Get rid of those black boxes marking "overfull
	hbox".

2004-01-17  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* doc/avrdude.texi: New appendix "Troubleshooting".

2004-01-12  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* avr910.c, avrpart.c, avrpart.h, doc/TODO:
	Look up devicecode and report device.

2004-01-03  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* avr910.c, pgm.c, pgm.h, config_gram.y, lexer.l: Add new configuration
	parameter baudrate to support avr910-programmers with non-standard
	baudrates.
	* avrdude.conf.in, doc/avrdude.texi: Added "baudrate" to documentation.

2004-01-03  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* avr910.c: Removed debugging stuff that is no longer needed.

2004-01-03  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* doc/TODO: Removed two items.

2004-01-03  Jan-Hinnerk Reichert  <hinni@despammed.com>

	* main.c, avr.c, avr.h, par.c, stk500.c: Add function
	avr_chip_erase() to unify handling of cycle-count.
	Makes cycle-count work for avr910-programmers.

