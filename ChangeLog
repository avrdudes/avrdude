2012-01-17  Rene Liebscher <R.Liebscher@gmx.de>

	bug #34302: Feature request : device configuration with parent classes
	* config_gram.y: if memory section is overwritten old entry is removed
	
	(not in original patch)
	* config_gram.y: if programmer or part is defined twice, a warning is
	output and the first instance is removed
	
	General cleanup and free functions, so valgrind does not report any lost
	blocks at program end.
	* avrpart.[hc]: added avr_free_(opcode|mem|part) functions
	* pgm.[hc]: added pgm_free function
	* update.[hc]: added free_update functions
	* config.[hc]: added cleanup_config function, use yylex_destroy to reset
	the lexer after usage. (So it can be reused.)
	* main.c: add cleanup_main function which is called by atexit() (This 
	frees all lists so that at program exit only really lost memory is 
	reported by valgrind.)
	* usbasp.c: added libusb_free_device_list() and libusb_exit() calls to
	avoid lost memory
	* buspirate.c: moved memory allocation from initpgm to setup and added 
	free in teardown
	* configure.ac: add definition of HAVE_YYLEX_DESTROY if $LEX is flex.
	* Makefile.am: added . in front of SUBDIRS to build avrdude before trying
	to use it for creating the part list for the docs.

2012-01-17  Rene Liebscher <R.Liebscher@gmx.de>

	* usbasp.c: USB vid/pid/vendor/product from config file are used, for
	id "usbasp" nibobee and old usbasp are tried as they were currently
	implemented within usbasp
	* avrdude.conf.in: added usb params to "usbasp", added new entry "nibobee"
	with params which were hardcoded in usbasp.c, and added an entry
	"usbasb-clone" which only checks vid/pid.

2012-01-10  Rene Liebscher <R.Liebscher@gmx.de>

	bug #35261 avrftdi uses wrong interface in avrftdi_paged_(write|load)
	* avrftdi.c: Fixed interface and implementation of avrftdi_paged_(write|load)
	patch #7672 adding support for O-Link (FTDI based JTAG) as programmer
	* avrdude.conf.in: added o-link entry

2012-01-10  Rene Liebscher <R.Liebscher@gmx.de>

	patch #7699 Read additional config files
	* main.c: Added reading of additional config files
	* avrdude.1: updated man page
	* doc/avrdude.texi: updated documentation

2012-01-10  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Submitted by Bob Frazier:
	bug #35208: avrdude 5.11 on freebsd 8.2-STABLE does not reset
	Arduino Uno properly
	* arduino.c (arduino_open): Bump the timeout between pulling
	the DTR and RTS lines low and high.

2012-01-08  Rene Liebscher <R.Liebscher@gmx.de>

	Fixed following findings reported by cppcheck
	* avr910.c:625 (error) Possible null pointer dereference: cmd - otherwise it is redundant to check if cmd is null at line 624
	* avr910.c:626 (error) Possible null pointer dereference: cmd - otherwise it is redundant to check if cmd is null at line 624
	* avr910.c:168 (information) The scope of the variable 'devtype_1st' can be reduced
	* avr910.c:169 (information) The scope of the variable 'dev_supported' can be reduced
	* avrftdi.c:647 (error) Using sizeof for array given as function argument returns the size of pointer.
	* stk500v2.c:3347 (error) Memory leak: b
	* stk500v2.c:3452 (error) Memory leak: b
	* usbasp.c:554 (error) Using sizeof for array given as function argument returns the size of pointer.
	* usbasp.c:485 (information) The scope of the variable 'dly' can be reduced

2012-01-03  Joerg Wunsch <j.gnu@uriah.heep.sax.de>

	Reported by Jason Kotzin:
	* usbasp.c (usbasp_spi_paged_load, usbasp_spi_paged_write):
	Fix buffer address calculation.

2012-01-03  Rene Liebscher <R.Liebscher@gmx.de>

	patch #7629 add support for atmega48p
	* avrdude.conf.in: Added m48p with parent m48 + different signature
	
	* avrdude.conf.in: made part parents (m88p = m88 + different signature,
	m168p = m168 + different signature)

2012-01-02  Rene Liebscher <R.Liebscher@gmx.de>

	bug #21663 AT90PWM efuse incorrect
	bug #30438 efuse bits written as 0 on at90pwmxx parts
	* avrdude.conf.in: (pwm2, pwm2b, pwm3, pwm3b) <efuse.write>: Write 
	eight bits
	
	* avrdude.conf.in: made part parents (pwm3 = pwm2, pwm3b = pwm2b, 
	pwm2b = pwm2 + different signature)
	
	* ChangeLog-2011: New file, rotate ChangeLog for new year.
